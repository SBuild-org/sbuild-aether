= SBuild Aether Plugin
Tobias Roeser
:sbuildversion: 0.7.1
:pluginversion: 0.0.9000

This SBuild plugin provides a SchemeHandler which is able to resolve dependencies via Eclipse Aether.

WARNING: The Aether Plugin is in early development state. Its API may change radically.

== Download

The SBuild Aether Plugin can be downloaded from http://repo1.maven.org/maven2/org/sbuild/org.sbuild.plugins.aether[Maven Central].

== Building from Source

You need a recent version of SBuild.

----
git clone https://github.com/SBuild-org/sbuild-aether.git
cd sbuild-aether/org.sbuild.plugins.aether
sbuild all
----

You will find the built jar in the directory `org.sbuild.plugins.aether/target`.

== Examples

=== Minimal example, using Aether to transitively resolve a dependency

[source,scala,subs="attributes"]
----
import de.tototec.sbuild._

@version("{sbuildversion}")
@classpath("mvn:org.sbuild:org.sbuild.plugins.aether:{pluginversion}")
class Test(implicit _project: Project) {

  import org.sbuild.plugins.aether._

  // This enables the aether plugin with it's default config
  Plugin[Aether]("aether")

  // A dependency for demonstration
  val dep = "aether:org.testng:testng:6.8"

  Target("phony:test-resolve-simple") dependsOn dep exec {
    println("Files: " + dep.files.mkString("\n"))
  }
}
----

=== Using the container equivalent of Maven

[source,scala,subs="attributes"]
----
import de.tototec.sbuild._

@version("{sbuildversion}")
// This adds the Aether plugin to the project
@classpath("org.sbuild.plugins.aether-0.0.9000.jar")
class Test(implicit _project: Project) {

  import org.sbuild.plugins.aether._

  // This enables and configures the Aether plugin
  Plugin[Aether]("aether") configure (_.copy(
    scopeDeps = Map(
      // Our compile dependencies 
      "compile" -> Seq(
        "org.slf4j:slf4j-api:1.7.5",
        "org.testng:testng:6.8"
      ),
      // Our test dependencies, which also contains the compile deps too
      "test" -> Seq(
        "compile",
        "ch.qos.logback:logback-classic:1.0.11"
      )
    )
  )

  Target("phony:test-resolve-compile") dependsOn "aether:compile" exec { ctx: TargetContext =>
    println("Files: " + ctx.dependsOn.files.mkString("\n"))
  }

  Target("phony:test-resolve-test") dependsOn "aether:test" exec { ctx: TargetContext =>
    println("Files: " + ctx.dependsOn.files.mkString("\n"))
  }
}
----

== Changelog

=== SBuild Aether Plugi 0.1.0 - _not released yet_

* Initial release.
